{
  "id": "opportunity_scan",
  "name": "Market Opportunity Scanner",
  "description": "Scans markets for trading and investment opportunities",
  "triggers": ["scan", "opportunities", "find trades", "screening", "ideas"],
  "entities": [],
  "priority": 8,
  "steps": [
    {
      "agent": "data_harvester",
      "method": "process",
      "params": {
        "request": "Get top movers, unusual volume, breakouts, and oversold stocks"
      },
      "output": "market_scan"
    },
    {
      "agent": "pattern_spotter",
      "method": "process",
      "params": {
        "data": "{market_scan}",
        "analysis_type": "opportunity_detection"
      },
      "output": "opportunities"
    },
    {
      "agent": "data_harvester",
      "method": "process",
      "params": {
        "request": "Get fundamentals for top opportunities: {opportunities}"
      },
      "output": "opportunity_data"
    },
    {
      "agent": "claude",
      "method": "process",
      "params": {
        "user_input": "Analyze opportunities from {opportunities} with data {opportunity_data}. Rank by: 1) Risk/Reward 2) Technical Setup 3) Fundamental Quality 4) Catalyst. Provide top 5 ideas with entry/exit/stop levels"
      },
      "output": "opportunity_report"
    }
  ],
  "response_type": "opportunities",
  "response_template": "{opportunity_report}",
  "cache_ttl": 600
}
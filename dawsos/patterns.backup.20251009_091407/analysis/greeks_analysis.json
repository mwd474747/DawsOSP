{
  "id": "greeks_analysis",
  "name": "Greeks Positioning Analysis",
  "description": "Analyzes Greeks to determine market positioning and gamma exposure",
  "triggers": [
    "analyze greeks",
    "gamma exposure",
    "max pain",
    "options positioning"
  ],
  "entities": [
    "TICKER"
  ],
  "priority": 85,
  "steps": [
    {
      "action": "execute_through_registry",
      "params": {
        "capability": "can_analyze_greeks",
        "context": {
          "ticker": "{TICKER}",
          "expiration": "{expiration}"
        }
      },
      "save_as": "greeks_data"
    },
    {
      "action": "execute_through_registry",
      "params": {
        "capability": "can_add_nodes",
        "context": {
          "node_type": "greeks_analysis",
          "data": {
            "ticker": "{TICKER}",
            "net_delta": "{greeks_data.net_delta}",
            "total_gamma": "{greeks_data.total_gamma}",
            "max_pain": "{greeks_data.max_pain_strike}",
            "gamma_flip": "{greeks_data.gamma_flip_point}",
            "positioning": "{greeks_data.positioning}"
          },
          "metadata": {
            "timestamp": "{now}"
          }
        }
      },
      "save_as": "graph_node"
    }
  ],
  "response_type": "analysis",
  "response_template": "Greeks Analysis for {TICKER}:\n\nNet Delta: {greeks_data.net_delta}\nTotal Gamma: {greeks_data.total_gamma}\nMax Pain: ${greeks_data.max_pain_strike}\nGamma Flip: ${greeks_data.gamma_flip_point}\nPositioning: {greeks_data.positioning}\nConfidence: {greeks_data.confidence}",
  "cache_ttl": 900,
  "version": "2.0.0",
  "last_updated": "2025-10-07"
}

{
  "id": "stock_price",
  "name": "Get Stock Price",
  "description": "Fetches current stock price and displays key metrics (Trinity 2.0 capability routing)",
  "triggers": [
    "stock price",
    "price",
    "quote",
    "trading",
    "cost",
    "worth"
  ],
  "entities": [
    "SYMBOL"
  ],
  "priority": 10,
  "steps": [
    {
      "description": "",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_fetch_stock_quotes",
        "context": {
          "symbol": "{SYMBOL}"
        }
      },
      "save_as": "quote_data"
    },
    {
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "user_input": "Format this nicely: {quote_data}"
        }
      },
      "save_as": "formatted_response"
    }
  ],
  "response_type": "stock_quote",
  "response_template": "{SYMBOL} is trading at ${quote_data.price} ({quote_data.change_percent}%)",
  "error_handling": "stop",
  "cache_ttl": 60,
  "version": "2.0",
  "last_updated": "2025-10-08"
}
{
  "id": "watchlist_update",
  "name": "Watchlist Update",
  "description": "Updates watchlist with current prices and changes (Trinity 2.0 capability routing)",
  "category": "ui",
  "triggers": [
    "watchlist",
    "watch list",
    "tracked stocks"
  ],
  "entities": [],
  "priority": 7,
  "steps": [
    {
      "action": "execute_through_registry",
      "params": {
        "context": {
          "request": "Get watchlist from knowledge graph"
        },
        "capability": "can_fetch_stock_quotes"
      },
      "save_as": "watchlist"
    },
    {
      "description": "",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_fetch_stock_quotes",
        "context": {}
      },
      "save_as": "watchlist_data"
    },
    {
      "action": "execute_through_registry",
      "params": {
        "context": {
          "data": "{watchlist_data}",
          "analysis_type": "quick_signals"
        },
        "capability": "can_detect_patterns"
      },
      "save_as": "signals"
    },
    {
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "user_input": "Format watchlist with {watchlist_data} and signals {signals}. Show: Symbol, Price, Change%, Volume, Signal"
        }
      },
      "save_as": "watchlist_display"
    }
  ],
  "response_type": "ui_update",
  "response_template": "{watchlist_display}",
  "cache_ttl": 60,
  "version": "2.0",
  "last_updated": "2025-10-08",
  "template": "## Watchlist\n\n{watchlist_display.response}\n\n**Signals Detected**: {signals.count}\n\n**Last Updated**: {watchlist_data.timestamp}\n\n*Watchlist powered by DawsOS Trinity 2.0*"
}
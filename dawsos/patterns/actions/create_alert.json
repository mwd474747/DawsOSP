{
  "id": "create_alert",
  "name": "Create Price Alert",
  "description": "Sets up price or condition alerts for assets (Trinity 2.0 capability routing)",
  "category": "actions",
  "triggers": [
    "alert",
    "notify",
    "watch",
    "monitor",
    "trigger"
  ],
  "entities": [
    "SYMBOL",
    "PRICE"
  ],
  "priority": 7,
  "steps": [
    {
      "action": "execute_through_registry",
      "params": {
        "context": {
          "symbol": "{SYMBOL}"
        },
        "capability": "can_fetch_stock_quotes"
      },
      "save_as": "current_price"
    },
    {
      "action": "execute_through_registry",
      "params": {
        "context": {
          "workflow": {
            "type": "alert",
            "symbol": "{SYMBOL}",
            "condition": "{user_input}",
            "current_price": "{current_price}"
          }
        },
        "capability": "can_record_workflow"
      },
      "save_as": "alert_id"
    },
    {
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "user_input": "Alert created for {SYMBOL}. Current price: {current_price}. Alert details: {alert_id}"
        }
      },
      "save_as": "confirmation"
    }
  ],
  "response_type": "action",
  "response_template": "{confirmation}",
  "cache_ttl": 0,
  "version": "2.0",
  "last_updated": "2025-10-08",
  "template": "## Price Alert Created\n\n**Symbol**: {SYMBOL}\n**Current Price**: ${current_price.price}\n**Alert Condition**: {user_input}\n\n**Alert Details**:\n\u2022 Alert ID: {alert_id.id}\n\u2022 Status: Active\n\u2022 Created: {alert_id.timestamp}\n\n{confirmation.response}\n\n**You will be notified when the alert condition is met.**\n\n*Alert monitoring powered by DawsOS Trinity 2.0*"
}
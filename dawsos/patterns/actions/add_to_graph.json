{
  "id": "add_to_graph",
  "name": "Add to Knowledge Graph",
  "description": "Adds data, entities, or relationships to the knowledge graph (Trinity 2.0 capability routing)",
  "category": "actions",
  "triggers": [
    "add",
    "save",
    "store",
    "remember",
    "track",
    "graph"
  ],
  "entities": [
    "SYMBOL"
  ],
  "priority": 8,
  "steps": [
    {
      "action": "execute_through_registry",
      "params": {
        "context": {
          "symbol": "{SYMBOL}"
        },
        "capability": "can_fetch_stock_quotes"
      },
      "save_as": "raw_data"
    },
    {
      "action": "execute_through_registry",
      "params": {
        "context": {
          "data": "{raw_data}"
        },
        "capability": "can_summarize_data"
      },
      "save_as": "structured_data"
    },
    {
      "description": "",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_find_relationships",
        "context": {
          "data": "{structured_data}"
        }
      },
      "save_as": "relationships"
    },
    {
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "user_input": "Added to knowledge graph: {structured_data} with relationships: {relationships}. Summarize what was added."
        }
      },
      "save_as": "confirmation"
    }
  ],
  "response_type": "action",
  "response_template": "{confirmation}",
  "cache_ttl": 0,
  "version": "2.0",
  "last_updated": "2025-10-08",
  "template": "## Knowledge Graph Update\n\n**Entity Added**: {SYMBOL}\n\n**Data Stored**: {structured_data.summary}\n\n**Relationships Created**:\n{relationships.summary}\n\n**Status**: \u2705 Successfully added to knowledge graph\n\n{confirmation.response}\n\n*Powered by DawsOS Trinity 2.0*"
}
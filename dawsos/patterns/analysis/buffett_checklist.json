{
  "id": "buffett_checklist",
  "name": "Buffett Investment Checklist",
  "triggers": [
    "buffett checklist",
    "investment checklist",
    "quality check",
    "buffett analysis",
    "value checklist"
  ],
  "description": "Run through Warren Buffett's investment checklist framework (Trinity 2.0 capability routing)",
  "category": "analysis",
  "priority": 85,
  "input_schema": {
    "required": [
      "symbol"
    ],
    "optional": [
      "detailed"
    ]
  },
  "steps": [
    {
      "description": "Load Buffett investment framework",
      "action": "execute_through_registry",
      "params": {
        "context": {
          "task": "load_knowledge",
          "knowledge_file": "buffett_checklist.json",
          "request": "Load Warren Buffett investment checklist framework"
        },
        "capability": "can_fetch_stock_quotes"
      },
      "save_as": "step_1"
    },
    {
      "description": "Gather company financial data",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_fetch_fundamentals",
        "context": {
          "task": "financial_data",
          "symbol": "{SYMBOL}"
        }
      },
      "save_as": "step_2"
    },
    {
      "description": "Analyze business understanding",
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "task": "evaluate_investment_criteria",
          "symbol": "{symbol}",
          "category": "Business Understanding",
          "questions": [
            "Can I explain the business model simply?",
            "Do I understand how it makes money?",
            "Will this business exist in 10 years?",
            "Is it within my circle of competence?"
          ],
          "data": "{step_2}",
          "request": "Evaluate {symbol} on business understanding criteria from Buffett checklist. Score each question 0-4 and provide detailed reasoning."
        }
      },
      "save_as": "step_3"
    },
    {
      "description": "Analyze economic moat",
      "action": "execute_through_registry",
      "params": {
        "context": {
          "symbol": "{symbol}",
          "data": "{step_2}"
        },
        "capability": "can_detect_patterns"
      },
      "save_as": "step_4"
    },
    {
      "description": "Evaluate management quality",
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "task": "evaluate_investment_criteria",
          "symbol": "{symbol}",
          "category": "Management Quality",
          "questions": [
            "Does management think like owners?",
            "Is capital allocation disciplined?",
            "Are they honest about mistakes?",
            "Is compensation reasonable?"
          ],
          "request": "Evaluate {symbol} management on Buffett's criteria. Score 0-4 per question with evidence."
        }
      },
      "save_as": "step_5"
    },
    {
      "description": "Assess financial strength",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_fetch_fundamentals",
        "context": {
          "task": "evaluate_investment_criteria",
          "symbol": "{SYMBOL}",
          "category": "Financial Strength",
          "questions": [
            "Is ROE consistently > 15%?",
            "Are margins stable or expanding?",
            "Is debt manageable (D/E < 0.5)?",
            "Does FCF track earnings?"
          ],
          "data": "{step_2}"
        }
      },
      "save_as": "step_6"
    },
    {
      "description": "Evaluate valuation and margin of safety",
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "task": "evaluate_investment_criteria",
          "symbol": "{symbol}",
          "category": "Valuation",
          "questions": [
            "Is there a margin of safety?",
            "Is expected return > 10%?",
            "Is this better than treasuries?",
            "Am I being greedy when others are fearful?"
          ],
          "data": "{step_2}",
          "request": "Assess valuation and margin of safety for {symbol}. Score 0-4 per criterion."
        }
      },
      "save_as": "step_7"
    },
    {
      "description": "Synthesize Buffett checklist results",
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "task": "synthesize_buffett_analysis",
          "symbol": "{symbol}",
          "framework": "{step_1}",
          "business_understanding": "{step_3}",
          "economic_moat": "{step_4}",
          "management_quality": "{step_5}",
          "financial_strength": "{step_6}",
          "valuation": "{step_7}",
          "request": "Synthesize complete Buffett investment checklist for {symbol}. Calculate total score out of 20 and provide clear BUY/HOLD/AVOID recommendation based on Buffett's criteria."
        }
      },
      "save_as": "step_8"
    }
  ],
  "template": "âœ… **Buffett Investment Checklist: {SYMBOL}**\n\n{step_8.response}\n\n---\n\nðŸ’¡ **Key Buffett Principles Applied**:\nâ€¢ Circle of competence - only invest in businesses you understand\nâ€¢ Economic moat - durable competitive advantage is essential\nâ€¢ Management matters - integrity and capital allocation skills\nâ€¢ Price is what you pay, value is what you get\nâ€¢ Margin of safety - always demand a discount to intrinsic value\n\n*Analysis powered by DawsOS Trinity Architecture*",
  "version": "2.0",
  "last_updated": "2025-10-08",
  "notes": "Converted from legacy action types to Trinity-compliant execute_through_registry pattern",
  "entities": [
    "SYMBOL"
  ]
}
{
  "id": "dcf_valuation",
  "name": "DCF Valuation Analysis",
  "description": "Comprehensive DCF (Discounted Cash Flow) valuation using Trinity 2.0 capability routing",
  "category": "analysis",
  "entities": [
    "SYMBOL"
  ],
  "input_schema": {
    "required": [
      "symbol"
    ],
    "optional": [
      "growth_assumption",
      "discount_rate_override"
    ]
  },
  "template": "## DCF Valuation Analysis for {SYMBOL}\n\n**Intrinsic Value:** ${dcf_analysis.intrinsic_value}\n\n**Confidence Level:** {dcf_analysis.confidence}\n\n**Key Metrics:**\n- **Discount Rate (WACC):** {dcf_analysis.discount_rate}\n- **Terminal Value:** ${dcf_analysis.terminal_value}M\n- **Methodology:** {dcf_analysis.methodology}\n\n**Projected Free Cash Flows:**\n{dcf_analysis.projected_fcf}\n\n---\n*Analysis powered by Trinity 2.0 capability routing*",
  "version": "2.0",
  "last_updated": "2025-10-08",
  "steps": [
    {
      "description": "Fetch fundamental financial data for the company",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_fetch_fundamentals",
        "context": {
          "symbol": "{SYMBOL}"
        }
      },
      "save_as": "fundamentals"
    },
    {
      "description": "Perform comprehensive DCF analysis",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_calculate_dcf",
        "context": {
          "symbol": "{SYMBOL}",
          "fundamentals": "{fundamentals}"
        }
      },
      "save_as": "dcf_analysis"
    }
  ],
  "response_type": "valuation",
  "response_template": "{dcf_analysis}",
  "triggers": [
    "dcf valuation",
    "discounted cash flow",
    "intrinsic value",
    "fair value calculation",
    "calculate dcf"
  ]
}
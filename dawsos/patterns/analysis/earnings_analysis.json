{
  "id": "earnings_analysis",
  "name": "Earnings Analysis",
  "description": "Analyzes company earnings, guidance, and estimates (Trinity 2.0 capability routing)",
  "category": "analysis",
  "triggers": [
    "earnings",
    "eps",
    "revenue",
    "guidance",
    "beat",
    "miss"
  ],
  "entities": [
    "SYMBOL"
  ],
  "priority": 8,
  "steps": [
    {
      "action": "execute_through_registry",
      "params": {
        "context": {
          "symbol": "{SYMBOL}"
        },
        "capability": "can_fetch_stock_quotes"
      },
      "save_as": "earnings_data"
    },
    {
      "action": "execute_through_registry",
      "params": {
        "context": {
          "data": "{earnings_data}",
          "analysis_type": "earnings_trend"
        },
        "capability": "can_detect_patterns"
      },
      "save_as": "earnings_patterns"
    },
    {
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "user_input": "Analyze {SYMBOL} earnings {earnings_data} and trends {earnings_patterns}. Include: 1) Beat/miss history 2) Growth trajectory 3) Guidance analysis 4) Estimate revisions 5) Trading implications"
        }
      },
      "save_as": "earnings_report"
    }
  ],
  "template": "ðŸ’° **Earnings Analysis: {SYMBOL}**\n\n{earnings_report.response}\n\n---\n\nðŸ“Š **Latest Earnings**\nâ€¢ EPS (Actual): ${earnings_data.eps_actual}\nâ€¢ EPS (Expected): ${earnings_data.eps_expected}\nâ€¢ Beat/Miss: {earnings_data.surprise}%\nâ€¢ Revenue: ${earnings_data.revenue}M\nâ€¢ Revenue Growth: {earnings_data.revenue_growth}%\n\nðŸ“ˆ **Beat/Miss History**\n{earnings_report.history}\n\nðŸŽ¯ **Growth Trajectory**\n{earnings_report.growth}\n\nðŸ“¢ **Guidance Analysis**\n{earnings_report.guidance}\n\nðŸ”„ **Estimate Revisions**\n{earnings_patterns.revisions}\n\nðŸ’¡ **Trading Implications**\n{earnings_report.trading_ideas}\n\n*Earnings analysis powered by DawsOS Trinity Architecture*",
  "response_type": "analysis",
  "response_template": "{earnings_report}",
  "cache_ttl": 1800,
  "version": "2.0",
  "last_updated": "2025-10-08"
}
{
  "id": "smart_opportunity_finder",
  "name": "Smart Opportunity Finder",
  "description": "Dynamic opportunity scanner that filters based on investment strategy, sectors, risk level, and custom criteria",
  "category": "smart",
  "triggers": [
    "find",
    "opportunities",
    "scan",
    "screen",
    "looking for"
  ],
  "entities": [],
  "priority": 12,
  "steps": [
    {
      "description": "Load investment framework based on strategy type",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_access_knowledge",
        "context": {
          "query": "{strategy_type} investing criteria",
          "knowledge_type": "frameworks"
        }
      },
      "save_as": "strategy_framework"
    },
    {
      "description": "Get current market regime to contextualize opportunities",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_detect_patterns",
        "context": {
          "analysis_type": "regime"
        }
      },
      "save_as": "market_regime"
    },
    {
      "description": "Scan for opportunities in specified sectors",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_map_relationships",
        "context": {
          "relationship_type": "sector",
          "filter_sectors": "{sectors}"
        }
      },
      "save_as": "sector_candidates"
    },
    {
      "description": "Generate filtered opportunity list based on strategy and risk level",
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "user_input": "Find {strategy_type} investment opportunities. Sectors: {sectors}. Risk level: {risk_level}. Additional criteria: {criteria}. Strategy framework: {strategy_framework}. Market regime: {market_regime}. Sector candidates: {sector_candidates}. Provide top 5-10 specific opportunities with rationale.",
          "conversation_context": "{conversation_context}"
        }
      },
      "save_as": "opportunities"
    }
  ],
  "response_type": "opportunities",
  "response_template": "{opportunities}",
  "error_handling": "continue",
  "cache_ttl": 900,
  "version": "3.0",
  "last_updated": "2025-10-18",
  "template": "# Smart Opportunity Finder\n\n## Search Criteria\n**Strategy**: {strategy_type}\n**Sectors**: {sectors}\n**Risk Level**: {risk_level}\n**Additional Criteria**: {criteria}\n\n## Market Context\n**Current Regime**: {market_regime.regime}\n\n{opportunities.response}\n\n---\n*Opportunity scanning powered by DawsOS Trinity 3.0*",
  "metadata": {
    "uses_entity_extraction": true,
    "supports_streaming": true,
    "memory_aware": true,
    "dynamic_routing": true
  }
}

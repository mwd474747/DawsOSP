{
  "id": "backtest_strategy",
  "name": "Backtest Investment Strategy",
  "description": "Run historical backtests of investment strategies and predictions",
  "category": "analysis",
  "triggers": [
    "backtest",
    "test strategy",
    "historical performance",
    "validate prediction",
    "strategy performance"
  ],
  "entities": [
    "STRATEGY",
    "START_DATE",
    "END_DATE",
    "UNIVERSE"
  ],
  "priority": 8,
  "steps": [
    {
      "description": "Run backtest using BacktestEngine capability",
      "action": "execute_through_registry",
      "params": {
        "capability": "can_run_backtest",
        "context": {
          "strategy_name": "{STRATEGY}",
          "start_date": "{START_DATE}",
          "end_date": "{END_DATE}",
          "universe": "{UNIVERSE}",
          "rebalance_frequency": "{REBALANCE_FREQ}",
          "initial_capital": "{INITIAL_CAPITAL}"
        }
      },
      "save_as": "backtest_result"
    },
    {
      "description": "Generate analysis report",
      "action": "execute_through_registry",
      "params": {
        "agent": "claude",
        "context": {
          "user_input": "Analyze this backtest result: {backtest_result}. Provide: 1) Performance summary 2) Key findings 3) Strengths/weaknesses 4) Recommendations"
        }
      },
      "save_as": "analysis_report"
    }
  ],
  "response_type": "backtest",
  "response_template": "{analysis_report}",
  "cache_ttl": 86400,
  "version": "1.0",
  "last_updated": "2025-10-16",
  "template": "## Backtest Results: {STRATEGY}\n\n**Period**: {START_DATE} to {END_DATE}\n**Universe**: {UNIVERSE}\n\n### Performance Metrics\n\n**Total Return**: {backtest_result.metrics.total_return_pct}%\n**Annualized Return**: {backtest_result.metrics.annualized_return_pct}%\n**Sharpe Ratio**: {backtest_result.metrics.sharpe_ratio}\n**Max Drawdown**: {backtest_result.metrics.max_drawdown_pct}%\n\n**vs Benchmark**:\n\u2022 Benchmark Return: {backtest_result.metrics.benchmark_return_pct}%\n\u2022 Alpha: {backtest_result.metrics.alpha}%\n\n### Analysis\n\n{analysis_report.response}\n\n*Backtest powered by DawsOS Trinity 2.0*"
}
